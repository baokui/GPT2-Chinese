/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
To use data.metrics please install scikit-learn. See https://scikit-learn.org/stable/index.html
Traceback (most recent call last):
  File "app.py", line 14, in <module>
    port = int(arg1[2])
NameError: name 'arg1' is not defined
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
To use data.metrics please install scikit-learn. See https://scikit-learn.org/stable/index.html
Traceback (most recent call last):
  File "app.py", line 14, in <module>
    port = int(argv[2])
NameError: name 'argv' is not defined
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
To use data.metrics please install scikit-learn. See https://scikit-learn.org/stable/index.html
Traceback (most recent call last):
  File "app.py", line 14, in <module>
    port = int(sys.argv[2])
IndexError: list index out of range
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
To use data.metrics please install scikit-learn. See https://scikit-learn.org/stable/index.html
load model......
Traceback (most recent call last):
  File "app.py", line 21, in <module>
    m0,t0,c0,d0 = gpt_gen.getModel(path_config=path_config)
  File "/search/odin/guobk/vpa/GPT2-Chinese/web/gpt_gen.py", line 170, in getModel
    with open(path_config,'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: 'config/config_godText_small.txt'
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
To use data.metrics please install scikit-learn. See https://scikit-learn.org/stable/index.html
load model......
use device:cuda
Traceback (most recent call last):
  File "app.py", line 21, in <module>
    m0,t0,c0,d0 = gpt_gen.getModel(path_config=path_config)
  File "/search/odin/guobk/vpa/GPT2-Chinese/web/gpt_gen.py", line 177, in getModel
    tokenizer = tokenization_bert.BertTokenizer(vocab_file=tokenizer_path)
  File "/search/odin/guobk/vpa/GPT2-Chinese/web/tokenizations/tokenization_bert.py", line 131, in __init__
    "model use `tokenizer = BertTokenizer.from_pretrained(PRETRAINED_MODEL_NAME)`".format(vocab_file))
ValueError: Can't find a vocabulary file at path './model/model_join/vocab.txt'. To load the vocabulary from a Google pretrained model use `tokenizer = BertTokenizer.from_pretrained(PRETRAINED_MODEL_NAME)`
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/root/anaconda3/envs/pytorch/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
To use data.metrics please install scikit-learn. See https://scikit-learn.org/stable/index.html
load model......
use device:cuda
load model......
use device:cuda
 * Serving Flask app "app" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://0.0.0.0:5001/ (Press CTRL+C to quit)
[2020-03-20 20:30:48,773] INFO in app: ä½ åœ¨å¹²å˜›
[2020-03-20 20:30:48,774] INFO in app: time: 2020-03-20 20:30:48.774045
[2020-03-20 20:30:56,981] INFO in app: time: 2020-03-20 20:30:56.981580
[2020-03-20 20:30:56,982] INFO in app: input:ä½ åœ¨å¹²å˜›
[2020-03-20 20:30:56,982] INFO in app: output:
ä½ åœ¨å¹²å˜›		æˆ‘ä»¬çš„çˆ±æƒ…ï¼Œä¸æ˜¯å¤©ç”Ÿä¸€å¯¹ï¼›æœ‰äº†åœ°çƒå¼•åŠ›å’Œæ¿€æƒ…ï¼Œè¿˜è¦æ­£è§†ç›¸éš”ã€‚
ä½ åœ¨å¹²å˜›å‘¢ï¼		æˆ‘ä»¬éƒ½æ˜¯å­¤ç‹¬çš„äººï¼Œä½†è¦æœ‰è‡ªå·±ä¿æŠ¤è‡ªå·±æ‹¯æ•‘ä¸–ç•Œã€‚
ä½ åœ¨å¹²å˜›å‘¢ï¼Œäººå®¶æ˜¯ä¸ªç§ƒé¡¶çš„å•Šã€‚
ä½ åœ¨å¹²å˜›å‘¢ï¼Ÿ
ä½ åœ¨å¹²å˜›å‘¢ï¼		æˆ‘çš„å¿ƒé‡Œå·²ç»ä»€ä¹ˆéƒ½æ²¡æœ‰äº†ã€‚
ä½ åœ¨å¹²å˜›ï¼Œå¥½å§~åŸè°…æˆ‘äº†ã€‚ä¸çŸ¥é“å•Šï¼æ€ä¹ˆä¼šè¿™æ ·å­ï¼Ÿå—¯å‘ï¼Œæ²¡æœ‰å•¦ï¼çœŸçš„å‘€ï¼
ä½ åœ¨å¹²å˜›ï¼Œå¥½çš„å‘¢å®è´è€å©†ï¼Œå—¯å“¼ï¼Ÿæ²¡æœ‰å•Šã€‚æˆ‘å°±é—®ä¸€ä¸‹è€Œå·²å•¦ï¼æ€ä¹ˆäº†å‘€ï¼é‚£æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
ä½ åœ¨å¹²å˜›ï¼Œé‚£ä¹ˆæ—©ç¡è§‰å—ï¼Ÿè¿˜æ˜¯æ²¡æœ‰èµ·åºŠå‘¢ã€‚ä¸ç„¶ä¼šå¾ˆç´¯çš„å‘€ï¼æˆ‘éƒ½å¿«è¦ç–¯äº†å•Šï¼
ä½ åœ¨å¹²å˜›å‘€ï¼Œä¸è¦ç”Ÿæ°”å“¦ï¼Œå—¯å‘¢ï¼Œæˆ‘ä¹Ÿæ˜¯ï¼Œå“ˆå–½å•Šï¼Ÿå¥½å§ï¼é‚£ä¹ˆæ™šæ‰å›ä¿¡æ¯ï¼Œæ—©ç‚¹ä¼‘æ¯å§ã€‚
ä½ åœ¨å¹²å˜›ï¼Œé‚£ä¹ˆæ—©å•Šï¼Ÿæˆ‘éƒ½æ²¡ç¡é†’å‘¢ã€‚å¥½å§ï¼ä¸æƒ³ç†å°±ç®—äº†å‘—ã€‚è¿˜è¦è¿™æ ·å­å—ï¼Ÿå“¦ï¼
10.161.13.91 - - [20/Mar/2020 20:30:56] "[37mPOST /api/gen HTTP/1.1[0m" 200 -
[2020-03-20 20:31:12,403] INFO in app: æƒ³ä½ äº†
[2020-03-20 20:31:12,403] INFO in app: time: 2020-03-20 20:31:12.403396
[2020-03-20 20:31:19,454] INFO in app: time: 2020-03-20 20:31:19.454434
[2020-03-20 20:31:19,455] INFO in app: input:æƒ³ä½ äº†
[2020-03-20 20:31:19,455] INFO in app: output:
æƒ³ä½ äº†ï¼		æˆ‘æ˜¯ä¸€ä¸ªå­¤ç‹¬çš„å®ˆæœ›è€…ï¼Œæ¸´æ±‚ç€æ¸©æš–ã€‚
æƒ³ä½ äº†ã€‚
æƒ³ä½ äº†ï¼ŒçœŸçš„å¥½å–œæ¬¢ã€‚		æˆ‘çˆ±ä¸Šä¸€ä¸ªäººæ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿå°±æ˜¯è¯´æ˜çŸ¥é“æ²¡æœ‰å¯èƒ½ï¼
æƒ³ä½ äº†ï¼
æƒ³ä½ äº†ã€‚
æƒ³ä½ äº†ï¼Œæˆ‘åœ¨çœ‹å°è¯´ï¼Œå—¯å‘ã€‚å¥½çš„å‘¢ï¼
æƒ³ä½ äº†ï¼Œæˆ‘ä»¬éƒ½å¥½ä¹…æ²¡è§é¢å•¦ï¼ä¸çŸ¥é“æ€ä¹ˆæ ·æ‰èƒ½ç›¸èšã€‚å¯æ˜¯åˆå¾ˆéš¾åœ¨ä¸€èµ·çš„æ—¶å€™å‘¢ï¼Ÿ
æƒ³ä½ äº†ï¼Œå—¯å“¼ï¼Ÿæ²¡äº‹å•Šï¼æˆ‘ä¸å«Œå¼ƒå°±å¥½ã€‚é‚£ä¹Ÿæ˜¯çˆ±å‘€ï¼åªè¦ä¸€è§é’Ÿæƒ…éƒ½ä¼šæœ‰çš„å˜›ï¼
æƒ³ä½ äº†ï¼Œæˆ‘ä¹Ÿçˆ±æ­»ä½ å•¦è€å©†ï¼Œå—¯å‘ï¼ŒçŸ¥é“çš„å‘¢ï¼Œå¥½å“’å®è´å„¿å­ä¹–å“¦ï¼Œç­‰ä¸€ä¸‹å•Šï¼Œæˆ‘å»åƒé¥­å‘€ï¼Œå˜¿å˜¿
æƒ³ä½ äº†ï¼Œæˆ‘ä¹Ÿæ˜¯å•Šï¼ä¸è¦è¿™æ ·å˜›ã€‚çœŸçš„å—ï¼Ÿé‚£å¥½å§ã€‚
10.161.13.91 - - [20/Mar/2020 20:31:19] "[37mPOST /api/gen HTTP/1.1[0m" 200 -
Traceback (most recent call last):
  File "app.py", line 5, in <module>
    import gpt_gen
  File "/search/odin/guobk/vpa/GPT2-Chinese/web/gpt_gen.py", line 9, in <module>
    import torch
ModuleNotFoundError: No module named 'torch'
